## 编译前端翻译的4个阶段

### 1、词法分析 lexical analysis

源代码中的字符序列被翻译成该语言词汇表对应符号序列。

例如，由字母和数字组成的标识符、由数字组成的数字、分隔符和由特殊字符组成的操作符在这个阶段被识别，这被称为词法分析。

### 2、句法分析 syntax analysis

符号序列被转换成直接反映源代码句法结构的表现形式。

### 3、类型检查 type checking

高级语言中会使用面向对象，因此，除了语法规则以外，定义语言的还有操作符和操作数类型之间的兼容性规则。编译器验证这个兼容性规则的过程就叫做类型检查。

### 4、代码生成 code generation

在句法分析的基础上，根据目标计算机的指令集生成指令序列。这个过程叫做代码生成，通常是最复杂的部分，因为许多计算机的指令集缺乏满意的规律性。这个过程经常会被进一步细化。

### multipass

在以前存储空间很小的时候，无法容纳整个编译器，只有编译器的个别部分才能加载，它们按照一个接一个按顺序加载，每个部分被称为"pass"，而整个被称为"multipass compiler"。  通常情况下pass的数量为4-6，但是在作者知道的特定情况下会达到70（比如在PL/I中，PL/I是一种编程语言）。通常pass k的输出会称为pass k+1的输入，并且磁盘作为中间储存，因此频繁的读取写入硬盘造成很长的编译时间。

![image-20220830000842638](E:\笔记\编译原理.assets\image-20220830000842638.png)

随着存储空间的加大，逐渐演化成single-pass compilers，并且各个部分不再按顺序进行，而是交错进行，速度可能提升几千倍

### a front end and a back end

将编译器分成两个部分：front end和backend  
front end负责词法和语法分析以及类型检查，它生成了表示源文本句法结构的树。此树保存在主存储中，并构成处理代码生成的back end的接口  
这种解决方案的主要优点在于目标计算机前端及其指令集的独立性  
主要缺点是 翻译过程中固有的效率损失，编译时间较长

![image-20220830233316989](E:\笔记\编译原理.assets\image-20220830233316989.png)

